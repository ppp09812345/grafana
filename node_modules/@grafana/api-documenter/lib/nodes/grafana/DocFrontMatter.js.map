{"version":3,"file":"DocFrontMatter.js","sourceRoot":"","sources":["../../../src/nodes/grafana/DocFrontMatter.ts"],"names":[],"mappings":";;AAAA,qDAA6E;AAM5E,CAAC;AAEF,MAAa,cAAe,SAAQ,+BAAc;IAQhD,YAAmB,UAAqC;QACtD,KAAK,CAAC,UAAU,CAAC,CAAC;QAClB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACtD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QAC5D,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC,KAAK,IAAI,KAAK,CAAC;IAC1C,CAAC;IAED,IAAW,IAAI;QACb,OAAO,cAAc,CAAC,IAAI,CAAC;IAC7B,CAAC;IAEM,OAAO,CAAC,MAAsB;QACnC,MAAM,QAAQ,GAAW,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAEvE,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QACtC,MAAM,CAAC,SAAS,CAAC,2EAA2E,CAAC,CAAC;QAC9F,MAAM,CAAC,SAAS,CAAC,2EAA2E,CAAC,CAAC;QAC9F,MAAM,CAAC,SAAS,CAAC,2EAA2E,CAAC,CAAC;QAC9F,MAAM,CAAC,SAAS,CAAC,YAAY,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QAC7C,MAAM,CAAC,SAAS,CAAC,eAAe,QAAQ,GAAG,CAAC,CAAC;QAC7C,MAAM,CAAC,SAAS,CAAC,WAAW,cAAc,CAAC,KAAK,GAAG,CAAC,CAAC;QACrD,IAAG,IAAI,CAAC,MAAM,EAAE;YACd,MAAM,CAAC,SAAS,CAAC,WAAW,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;SAC5C;QACD,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC;IAEO,cAAc,CAAC,OAAgB;QACrC,IAAG,OAAO,CAAC,IAAI,wBAAsB,EAAE;YACnC,OAAO,eAAe,CAAC;SAC1B;QACD,OAAO,OAAO,CAAC,WAAW,CAAC;IAC7B,CAAC;IAEO,iBAAiB,CAAC,OAAgB;QACxC,MAAM,QAAQ,GAAa,CAAC,SAAS,EAAE,eAAe,EAAE,KAAK,CAAC,CAAC;QAC/D,MAAM,WAAW,GAA2B,OAAO,CAAC,oBAAoB,EAAE,CAAC;QAE3E,IAAI,WAAW,EAAE;YACb,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;SACnC;QAED,OAAO,QAAQ,CAAC;IAClB,CAAC;;AAlDc,mBAAI,GAAW,KAAK,CAAC;AACrB,oBAAK,GAAW,MAAM,CAAC;AAFxC,wCAoDC","sourcesContent":["import { GrafanaDocNode, IGrafanaDocNodeParameters } from \"./GrafanaDocNode\";\r\nimport { IndentedWriter } from \"../../utils/IndentedWriter\";\r\nimport { ApiItem, ApiItemKind, ApiPackage } from \"@microsoft/api-extractor-model\";\r\n\r\nexport interface IDocFrontMatterParameters extends IGrafanaDocNodeParameters {\r\n  draft: boolean\r\n};\r\n\r\nexport class DocFrontMatter extends GrafanaDocNode {\r\n  private static _tag: string = \"+++\";\r\n  private static _type: string = \"docs\";\r\n\r\n  private readonly _title: string;\r\n  private readonly _keywords: string[];\r\n  private readonly _draft: boolean;\r\n\r\n  public constructor(parameters: IDocFrontMatterParameters) {\r\n    super(parameters);\r\n    this._title = this._titleFromItem(parameters.apiItem);\r\n    this._keywords = this._keywordsFromItem(parameters.apiItem);\r\n    this._draft = parameters.draft || false;\r\n  }\r\n\r\n  public get kind(): string {\r\n    return DocFrontMatter.name;\r\n  }\r\n\r\n  public writeTo(writer: IndentedWriter): void {\r\n    const keywords: string = this._keywords.map(kw => `\"${kw}\"`).join(\",\");\r\n\r\n    writer.writeLine(DocFrontMatter._tag);\r\n    writer.writeLine('# -----------------------------------------------------------------------');\r\n    writer.writeLine('# Do not edit this file. It is automatically generated by API Documenter.');\r\n    writer.writeLine('# -----------------------------------------------------------------------');\r\n    writer.writeLine(`title = \"${this._title}\"`);\r\n    writer.writeLine(`keywords = [${keywords}]`);\r\n    writer.writeLine(`type = \"${DocFrontMatter._type}\"`);\r\n    if(this._draft) {\r\n      writer.writeLine(`draft = ${this._draft}`);\r\n    }\r\n    writer.writeLine(DocFrontMatter._tag);\r\n  }\r\n\r\n  private _titleFromItem(apiItem: ApiItem): string {\r\n    if(apiItem.kind === ApiItemKind.Model) {\r\n        return \"API Reference\";\r\n    }\r\n    return apiItem.displayName;\r\n  }\r\n\r\n  private _keywordsFromItem(apiItem: ApiItem): string[] {\r\n    const keywords: string[] = [\"grafana\", \"documentation\", \"sdk\"];\r\n    const packageItem: ApiPackage | undefined = apiItem.getAssociatedPackage();\r\n\r\n    if (packageItem) {\r\n        keywords.push(packageItem.name);\r\n    }\r\n\r\n    return keywords;\r\n  }\r\n}"]}