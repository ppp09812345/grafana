!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define(["rxjs","rxjs/operators"],t):"object"==typeof exports?exports.rxjsSpy=t(require("rxjs"),require("rxjs/operators")):e.rxjsSpy=t(e.rxjs,e.rxjs.operators)}(window,function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=21)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.name=e}return e.prototype.afterComplete=function(e){},e.prototype.afterError=function(e,t){},e.prototype.afterNext=function(e,t){},e.prototype.afterSubscribe=function(e){},e.prototype.afterUnsubscribe=function(e){},e.prototype.beforeComplete=function(e){},e.prototype.beforeError=function(e,t){},e.prototype.beforeNext=function(e,t){},e.prototype.beforeSubscribe=function(e){},e.prototype.beforeUnsubscribe=function(e){},e.prototype.flush=function(){},e.prototype.select=function(e){},e.prototype.teardown=function(){},e}();t.BasePlugin=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(22),i=n(2);function s(e){var t=e.operator;if(t){var n=t.tag;if(n)return n}}t.matches=function(e,t,n){var u,a=void 0,c=void 0;if(i.isObservable(e)?u=e:(u=e.observable,a=e.subscriber,c=o.isSubscriptionRef(e)?e.subscription:void 0),i.isObservable(t))return u===t;var l=r.identify(u),p=a?r.identify(a):void 0,f=c?r.identify(c):void 0,h=n||s(u);return"function"==typeof t?t(h,u):"string"==typeof t?t===l||t===p||t===f||t===h:void 0!==h&&t.test(h)},t.read=s,t.toString=function(e){return i.isObservable(e)?"[Observable]":"function"==typeof e?"[Function]":e.toString()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);function o(e){var t=e.operator,n=Object.getPrototypeOf(t||e);if(n.constructor&&n.constructor.name){var r=n.constructor.name;return(r=""+r.charAt(0).toLowerCase()+r.substring(1)).replace(/^(\w+)(Observable|Operator)$/,function(e,t){return t})}return"unknown"}t.inferPath=function e(t){var n=t.source;return n?e(n)+"/"+o(t):"/"+o(t)},t.inferType=o,t.isObservable=function(e){return e&&e.subscribe};var i={closed:!0,error:function(e){throw e},next:function(e){},complete:function(){}},s=Symbol.for("rxSubscriber");t.toSubscriber=function(e,t,n){if(e){if(e instanceof r.Subscriber)return e;if(e[s])return e[s]()}return e||t||n?new r.Subscriber(e,t,n):new r.Subscriber(i)}},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLogger=console,t.toLogger=function(e){if(e.error&&e.group&&e.groupCollapsed&&e.groupEnd&&e.warn)return e;var t=0;return{error:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];n.apply(void 0,["error",e].concat(t))},group:function(e){n("log",e),t+=2},groupCollapsed:function(e){n("log",e),t+=2},groupEnd:function(){t=Math.max(0,t-2)},log:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];n.apply(void 0,["log",e].concat(t))},warn:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];n.apply(void 0,["warn",e].concat(t))}};function n(n,r){for(var o,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var u=" ".repeat(t);r=r?u+r:u,(o=e[n]||e.log).call.apply(o,[e,r].concat(i))}}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(33)),r(n(34))},function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,r=/^data:.+\,.+$/;function o(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var n=e,r=o(e);if(r){if(!r.path)return e;n=r.path}for(var s,u=t.isAbsolute(n),a=n.split(/\/+/),c=0,l=a.length-1;l>=0;l--)"."===(s=a[l])?a.splice(l,1):".."===s?c++:c>0&&(""===s?(a.splice(l+1,c),c=0):(a.splice(l,2),c--));return""===(n=a.join("/"))&&(n=u?"/":"."),r?(r.path=n,i(r)):n}t.urlParse=o,t.urlGenerate=i,t.normalize=s,t.join=function(e,t){""===e&&(e="."),""===t&&(t=".");var n=o(t),u=o(e);if(u&&(e=u.path||"/"),n&&!n.scheme)return u&&(n.scheme=u.scheme),i(n);if(n||t.match(r))return t;if(u&&!u.host&&!u.path)return u.host=t,i(u);var a="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return u?(u.path=a,i(u)):a},t.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(n)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var u=!("__proto__"in Object.create(null));function a(e){return e}function c(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function l(e,t){return e===t?0:e>t?1:-1}t.toSetString=u?a:function(e){return c(e)?"$"+e:e},t.fromSetString=u?a:function(e){return c(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=e.source-t.source;return 0!==r?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)||n?r:0!=(r=e.generatedColumn-t.generatedColumn)?r:0!=(r=e.generatedLine-t.generatedLine)?r:e.name-t.name},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r?r:0!=(r=e.generatedColumn-t.generatedColumn)||n?r:0!=(r=e.source-t.source)?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)?r:e.name-t.name},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!=(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=l(e.source,t.source))?n:0!=(n=e.originalLine-t.originalLine)?n:0!=(n=e.originalColumn-t.originalColumn)?n:l(e.name,t.name)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Symbol("id"),o=0;t.identify=function(e){return e[r]=e[r]||(++o).toString()}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(23)),r(n(35)),r(n(36)),r(n(11)),r(n(39)),r(n(19)),r(n(20)),r(n(0)),r(n(13)),r(n(9)),r(n(40))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(24),s=n(3),u=n(10),a=n(25),c=n(5),l=n(0),p=Symbol("stackTraceRef");function f(e){return e[p]}function h(e,t){return e[p]=t,t}t.getMappedStackTrace=function(e){var t=f(e);return t?t.mappedStackTrace:s.of([])},t.getStackTrace=function(e){var t=f(e);return t?t.stackTrace:[]},t.getStackTraceRef=f;var g=function(e){function t(t){var n=(void 0===t?{}:t).sourceMaps,r=void 0!==n&&n,o=e.call(this,"stackTrace")||this;return o.sourceCache_={},o.sourceMaps_=r,o}return o(t,e),t.prototype.beforeSubscribe=function(e){var t=this,n=this.getStackFrames_();this.sourceMaps_&&"undefined"!=typeof window&&"file:"!==window.location.protocol?h(e,{mappedStackTrace:s.defer(function(){var e=new a({sourceCache:t.sourceCache_});return Promise.all(n.map(function(t){return e.pinpoint(t).catch(function(){return t})}))}).pipe(u.shareReplay(1),c.hide()),stackTrace:n}):h(e,{mappedStackTrace:s.of(n).pipe(c.hide()),stackTrace:n})},t.prototype.teardown=function(){this.sourceCache_={}},t.prototype.getStackFrames_=function(){try{throw new Error}catch(t){var e=!0;return i.parse(t).filter(function(t){var n=!e;return/coreSubscribe_/.test(t.functionName||"")&&(e=!1),n})}},t}(l.BasePlugin);t.StackTracePlugin=g},function(e,n){e.exports=t},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=Symbol("graphRef");function u(e){return e[s]}t.getGraphRef=u;var a=function(e){function t(t){var n=(void 0===t?{}:t).keptDuration,r=void 0===n?3e4:n,o=e.call(this,"graph")||this;return o.flushIntervalId_=void 0,o.flushQueue_=[],o.keptDuration_=r,o.notifications_=[],o.sentinel_={depth:0,flattened:!1,flattenings:[],flatteningsFlushed:0,link:void 0,rootSink:void 0,sentinel:void 0,sink:void 0,sources:[],sourcesFlushed:0},o.sentinel_.link=o.sentinel_,o.sentinel_.sentinel=o.sentinel_,o}return o(t,e),t.prototype.afterNext=function(e,t){this.notifications_.pop()},t.prototype.afterSubscribe=function(e){this.notifications_.pop()},t.prototype.afterUnsubscribe=function(e){var t=this.notifications_;this.sentinel_;t.pop(),this.flush_(e)},t.prototype.beforeNext=function(e,t){this.notifications_.push({notification:"next",ref:e})},t.prototype.beforeSubscribe=function(e){var t=this.notifications_,n=this.sentinel_,r=function(e,t){return e[s]=t,t}(e,{depth:1,flattened:!1,flattenings:[],flatteningsFlushed:0,link:n,rootSink:void 0,sentinel:n,sink:void 0,sources:[],sourcesFlushed:0}),o=t.length;if(o>0&&"next"===t[o-1].notification)(c=u(a=t[o-1].ref)).flattenings.push(e),r.link=c,r.flattened=!0,r.rootSink=c.rootSink||a,r.sink=a;else for(var i=o-1;i>-1;--i)if("subscribe"===t[i].notification){var a,c;(c=u(a=t[o-1].ref)).sources.push(e),r.depth=c.depth+1,r.link=c,r.rootSink=c.rootSink||a,r.sink=a;break}r.link===r.sentinel&&r.sentinel.sources.push(e),t.push({notification:"subscribe",ref:e})},t.prototype.beforeUnsubscribe=function(e){this.notifications_.push({notification:"unsubscribe",ref:e})},t.prototype.teardown=function(){void 0!==this.flushIntervalId_&&(clearInterval(this.flushIntervalId_),this.flushIntervalId_=void 0)},t.prototype.flush_=function(e){var t=this,n=u(e),r=n.flattenings,o=n.sources;if(e.unsubscribed&&r.every(function(e){return e.unsubscribed})&&o.every(function(e){return e.unsubscribed})){var i=this.keptDuration_,s=n.link,a=(n.sink,function(){var t=s.flattenings,n=s.sources,r=t.indexOf(e);-1!==r&&(t.splice(r,1),++s.flatteningsFlushed);var o=n.indexOf(e);-1!==o&&(n.splice(o,1),++s.sourcesFlushed)});0===i?a():i>0&&i<1/0&&(this.flushQueue_.push({due:Date.now()+i,flush:a}),void 0===this.flushIntervalId_&&(this.flushIntervalId_=setInterval(function(){var e=Date.now();t.flushQueue_=t.flushQueue_.filter(function(t){return t.due>e||(t.flush(),!1)}),0===t.flushQueue_.length&&(clearInterval(t.flushIntervalId_),t.flushIntervalId_=void 0)},i)))}},t}(i.BasePlugin);t.GraphPlugin=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){},o=r;t.detect=function(e){o(e)},t.hook=function(e){o=e||r}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),s=n(10),u=n(11),a=n(7),c=n(1),l=n(5),p=n(0),f=n(9),h=n(2),g=Symbol("snapshotRef");function d(e){return e[g]}function b(e){var t=[i.of(null)];return e.forEach(function(e){e.subscriptions?e.subscriptions.forEach(n):n(e)}),i.forkJoin(t).pipe(s.mapTo(void 0),l.hide());function n(e){t.push(e.mappedStackTrace),e.rootSink&&t.push(e.rootSink.mappedStackTrace)}}t.getSnapshotRef=d;var _=function(e){function t(t,n){var r=(void 0===n?{}:n).keptValues,o=void 0===r?4:r,i=e.call(this,"snapshot")||this;return i.keptValues_=o,i.sentinel_=void 0,i.spy_=t,i}return o(t,e),t.prototype.afterUnsubscribe=function(e){var t=d(e);t.tick=this.spy_.tick,t.unsubscribed=!0},t.prototype.beforeComplete=function(e){var t=d(e);t.tick=this.spy_.tick,t.complete=!0},t.prototype.beforeError=function(e,t){var n=d(e);n.tick=this.spy_.tick,n.error=t},t.prototype.beforeNext=function(e,t){var n=this.spy_.tick,r=d(e);r.tick=n,r.values.push({tick:n,timestamp:Date.now(),value:t});var o=this.keptValues_,i=r.values.length-o;i>0&&(r.values.splice(0,i),r.valuesFlushed+=i)},t.prototype.beforeSubscribe=function(e){!function(e,t){e[g]=t}(e,{complete:!1,error:void 0,tick:this.spy_.tick,timestamp:Date.now(),unsubscribed:!1,values:[],valuesFlushed:0});var t=u.getGraphRef(e);t?this.sentinel_=t.sentinel:this.spy_.warnOnce(console,"Graphing is not enabled; add the GraphPlugin before the SnapshotPlugin.")},t.prototype.snapshotAll=function(e){var t=(void 0===e?{}:e).since,n=new Map,r=new Map,o=new Map,i=this.getSubscriptionRefs_();return i.forEach(function(e,t){var i,s=t.observable,l=t.subscriber,p=t.subscription,g=u.getGraphRef(t),b=g.flatteningsFlushed,_=g.sourcesFlushed,v=d(t),m=v.complete,y=v.error,S=v.tick,w=v.timestamp,O=v.unsubscribed,E=v.values,C=v.valuesFlushed,P={complete:m,error:y,flattenings:new Map,flatteningsFlushed:b,id:a.identify(t),mappedStackTrace:f.getMappedStackTrace(t),observable:s,rootSink:void 0,sink:void 0,sources:new Map,sourcesFlushed:_,stackTrace:f.getStackTrace(t),subscriber:l,subscription:p,tick:S,timestamp:w,unsubscribed:O};o.set(p,P);var k=r.get(l);k||(k={id:a.identify(l),subscriber:l,subscriptions:new Map,tick:S,values:[],valuesFlushed:0},r.set(l,k)),k.subscriptions.set(p,P),k.tick=Math.max(k.tick,S),(i=k.values).push.apply(i,E),k.valuesFlushed+=C;var A=n.get(s);A||(A={id:a.identify(s),observable:s,path:h.inferPath(s),subscriptions:new Map,tag:c.read(s),tick:S,type:h.inferType(s)},n.set(s,A)),A.subscriptions.set(p,P),A.tick=Math.max(A.tick,S)}),i.forEach(function(e,t){var n=u.getGraphRef(t),r=o.get(t.subscription);n.sink&&(r.sink=o.get(n.sink.subscription)),n.rootSink&&(r.rootSink=o.get(n.rootSink.subscription)),n.flattenings.forEach(function(e){return r.flattenings.set(e.subscription,o.get(e.subscription))}),n.sources.forEach(function(e){return r.sources.set(e.subscription,o.get(e.subscription))})}),r.forEach(function(e){e.values.sort(function(e,t){return e.tick-t.tick})}),void 0!==t&&(n.forEach(function(e,r){e.tick<=t.tick&&n.delete(r)}),r.forEach(function(e,n){e.tick<=t.tick&&r.delete(n)}),o.forEach(function(e,n){e.tick<=t.tick&&o.delete(n)})),{mapStackTraces:b,observables:n,subscribers:r,subscriptions:o,tick:this.spy_.tick}},t.prototype.snapshotObservable=function(e){return this.snapshotAll().observables.get(e.observable)},t.prototype.snapshotSubscriber=function(e){return this.snapshotAll().subscribers.get(e.subscriber)},t.prototype.addSubscriptionRefs_=function(e,t){var n=this;t.set(e,!0);var r=u.getGraphRef(e);r.flattenings.forEach(function(e){return n.addSubscriptionRefs_(e,t)}),r.sources.forEach(function(e){return n.addSubscriptionRefs_(e,t)})},t.prototype.getSubscriptionRefs_=function(){var e=this,t=this.sentinel_,n=new Map;return t&&t.sources.forEach(function(t){return e.addSubscriptionRefs_(t,n)}),n},t}(p.BasePlugin);t.SnapshotPlugin=_},function(e,t,n){var r,o,i;!function(n,s){"use strict";o=[],void 0===(i="function"==typeof(r=function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}var r=["isConstructor","isEval","isNative","isToplevel"],o=["columnNumber","lineNumber"],i=["fileName","functionName","source"],s=r.concat(o,i,["args"]);function u(e){if(e instanceof Object)for(var n=0;n<s.length;n++)e.hasOwnProperty(s[n])&&void 0!==e[s[n]]&&this["set"+t(s[n])](e[s[n]])}u.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof u)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new u(e)}},toString:function(){var t=this.getFunctionName()||"{anonymous}",n="("+(this.getArgs()||[]).join(",")+")",r=this.getFileName()?"@"+this.getFileName():"",o=e(this.getLineNumber())?":"+this.getLineNumber():"",i=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return t+n+r+o+i}};for(var a=0;a<r.length;a++)u.prototype["get"+t(r[a])]=n(r[a]),u.prototype["set"+t(r[a])]=function(e){return function(t){this[e]=Boolean(t)}}(r[a]);for(var c=0;c<o.length;c++)u.prototype["get"+t(o[c])]=n(o[c]),u.prototype["set"+t(o[c])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(o[c]);for(var l=0;l<i.length;l++)u.prototype["get"+t(i[l])]=n(i[l]),u.prototype["set"+t(i[l])]=function(e){return function(t){this[e]=String(t)}}(i[l]);return u})?r.apply(t,o):r)||(e.exports=i)}()},function(e,t,n){var r=n(16),o=n(6),i=n(17).ArraySet,s=n(28).MappingList;function u(e){e||(e={}),this._file=o.getArg(e,"file",null),this._sourceRoot=o.getArg(e,"sourceRoot",null),this._skipValidation=o.getArg(e,"skipValidation",!1),this._sources=new i,this._names=new i,this._mappings=new s,this._sourcesContents=null}u.prototype._version=3,u.fromSourceMap=function(e){var t=e.sourceRoot,n=new u({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=o.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)}),e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&n.setSourceContent(t,r)}),n},u.prototype.addMapping=function(e){var t=o.getArg(e,"generated"),n=o.getArg(e,"original",null),r=o.getArg(e,"source",null),i=o.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,i),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=i&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:i})},u.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=o.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[o.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[o.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},u.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var s=this._sourceRoot;null!=s&&(r=o.relative(s,r));var u=new i,a=new i;this._mappings.unsortedForEach(function(t){if(t.source===r&&null!=t.originalLine){var i=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=i.source&&(t.source=i.source,null!=n&&(t.source=o.join(n,t.source)),null!=s&&(t.source=o.relative(s,t.source)),t.originalLine=i.line,t.originalColumn=i.column,null!=i.name&&(t.name=i.name))}var c=t.source;null==c||u.has(c)||u.add(c);var l=t.name;null==l||a.has(l)||a.add(l)},this),this._sources=u,this._names=a,e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=o.join(n,t)),null!=s&&(t=o.relative(s,t)),this.setSourceContent(t,r))},this)},u.prototype._validateMapping=function(e,t,n,r){if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},u.prototype._serializeMappings=function(){for(var e,t,n,i,s=0,u=1,a=0,c=0,l=0,p=0,f="",h=this._mappings.toArray(),g=0,d=h.length;g<d;g++){if(e="",(t=h[g]).generatedLine!==u)for(s=0;t.generatedLine!==u;)e+=";",u++;else if(g>0){if(!o.compareByGeneratedPositionsInflated(t,h[g-1]))continue;e+=","}e+=r.encode(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(i=this._sources.indexOf(t.source),e+=r.encode(i-p),p=i,e+=r.encode(t.originalLine-1-c),c=t.originalLine-1,e+=r.encode(t.originalColumn-a),a=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-l),l=n)),f+=e}return f},u.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=o.relative(t,e));var n=o.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},u.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},u.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=u},function(e,t,n){var r=n(27);t.encode=function(e){var t,n="",o=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&o,(o>>>=5)>0&&(t|=32),n+=r.encode(t)}while(o>0);return n},t.decode=function(e,t,n){var o,i,s,u,a=e.length,c=0,l=0;do{if(t>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(i=r.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));o=!!(32&i),c+=(i&=31)<<l,l+=5}while(o);n.value=(u=(s=c)>>1,1==(1&s)?-u:u),n.rest=t}},function(e,t,n){var r=n(6),o=Object.prototype.hasOwnProperty;function i(){this._array=[],this._set=Object.create(null)}i.fromArray=function(e,t){for(var n=new i,r=0,o=e.length;r<o;r++)n.add(e[r],t);return n},i.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(e,t){var n=r.toSetString(e),i=o.call(this._set,n),s=this._array.length;i&&!t||this._array.push(e),i||(this._set[n]=s)},i.prototype.has=function(e){var t=r.toSetString(e);return o.call(this._set,t)},i.prototype.indexOf=function(e){var t=r.toSetString(e);if(o.call(this._set,t))return this._set[t];throw new Error('"'+e+'" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},i.prototype.toArray=function(){return this._array.slice()},t.ArraySet=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BATCH_MILLISECONDS=40,t.BATCH_NOTIFICATIONS=100,t.CONTENT_BACKGROUND_CONNECT="content-background-connect",t.CONTENT_MESSAGE="content-message",t.EXTENSION_KEY="__RX_SPY_EXTENSION__",t.PANEL_BACKGROUND_CONNECT="panel-background-connect",t.PANEL_BACKGROUND_INIT="panel-background-init",t.PANEL_MESSAGE="panel-message",t.MESSAGE_BATCH="batch",t.MESSAGE_BROADCAST="broadcast",t.MESSAGE_CONNECT="connect",t.MESSAGE_DISCONNECT="disconnect",t.MESSAGE_REQUEST="request",t.MESSAGE_RESPONSE="response"},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),s=n(1),u=n(0),a=n(2),c=function(e){function t(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var u=e.call(this,"log("+s.toString(n)+")")||this;u.auditor_=t.auditor,u.tagMatch_=n;var a=/.+/;switch(r.length){case 0:u.notificationMatch_=a,u.logger_=i.toLogger(i.defaultLogger);break;case 1:"function"==typeof r[0]?(u.notificationMatch_=r[0],u.logger_=i.toLogger(i.defaultLogger)):(u.notificationMatch_=a,u.logger_=i.toLogger(r[0]));break;default:u.notificationMatch_=r[0],u.logger_=i.toLogger(r[1])}return u}return o(t,e),t.prototype.beforeComplete=function(e){this.log_(e,"complete")},t.prototype.beforeError=function(e,t){this.log_(e,"error",t)},t.prototype.beforeNext=function(e,t){this.log_(e,"next",t)},t.prototype.beforeSubscribe=function(e){this.log_(e,"subscribe")},t.prototype.beforeUnsubscribe=function(e){this.log_(e,"unsubscribe")},t.prototype.log_=function(e,t,n){var r=this,o=this.auditor_,i=this.notificationMatch_,u=this.tagMatch_;s.matches(e,u)&&s.matches(e,i,t)&&o.audit(this,function(o){var i=r.logger_,c=e.observable,l=(e.subscriber,s.read(c)),p=a.inferType(c),f="string"==typeof u?"":"; matching "+s.toString(u),h=0===o?"":"; ignored "+o,g=l?"Tag = "+l+"; notification = "+t+f+h:"Type = "+p+"; notification = "+t+f+h;switch(t){case"error":i.error(g+"; error =",n);break;case"next":i.log(g+"; value =",n);break;default:i.log(g)}})},t}(u.BasePlugin);t.LogPlugin=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),s=n(10),u=n(4),a=n(1),c=n(5),l=n(0),p=function(){function e(e){this.paused_=!0,this.states_=new Map,this.match_=e,this.stats_=new i.Subject}return Object.defineProperty(e.prototype,"stats",{get:function(){return this.stats_.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this.paused_},enumerable:!0,configurable:!0}),e.prototype.clear=function(e){void 0===e&&(e=function(){return!0}),this.states_.forEach(function(t){t.notifications_=t.notifications_.filter(function(t){return!e(t)})}),this.broadcast_()},e.prototype.log=function(e){void 0===e&&(e=u.defaultLogger);var t=u.toLogger(e);t.group("Deck matching "+a.toString(this.match_)),t.log("Paused =",this.paused_),this.states_.forEach(function(e){t.group("Observable; tag = "+e.tag_),t.log("Notifications =",e.notifications_),t.groupEnd()}),t.groupEnd()},e.prototype.pause=function(){this.paused_=!0,this.broadcast_()},e.prototype.resume=function(){this.states_.forEach(function(e){for(;e.notifications_.length>0;)e.subject_.next(e.notifications_.shift())}),this.paused_=!1,this.broadcast_()},e.prototype.select=function(e){var t=this,n=e.observable;return function(e){var r=t.states_.get(n);return r?r.subscription_.unsubscribe():(r={notifications_:[],subject_:new i.Subject,subscription_:void 0,tag_:a.read(n)},t.states_.set(n,r)),r.subscription_=e.pipe(s.materialize(),c.hide()).subscribe({next:function(e){t.paused_?r.notifications_.push(e):r.subject_.next(e),t.broadcast_()}}),t.broadcast_(),r.subject_.asObservable().pipe(s.dematerialize())}},e.prototype.skip=function(){this.states_.forEach(function(e){e.notifications_.length>0&&e.notifications_.shift()}),this.broadcast_()},e.prototype.step=function(){this.states_.forEach(function(e){e.notifications_.length>0&&e.subject_.next(e.notifications_.shift())}),this.broadcast_()},e.prototype.unsubscribe=function(){this.states_.forEach(function(e){e.subscription_&&(e.subscription_.unsubscribe(),e.subscription_=void 0)}),this.broadcast_()},e.prototype.broadcast_=function(){var e=this.paused_,t=this.states_,n=this.stats_,r=0;t.forEach(function(e){return r+=e.notifications_.length}),n.next({notifications:r,paused:e})},e}();t.Deck=p;var f=function(e){function t(t){var n=e.call(this,"pause("+a.toString(t)+")")||this;return n.deck_=new p(t),n.match_=t,n}return o(t,e),Object.defineProperty(t.prototype,"deck",{get:function(){return this.deck_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"match",{get:function(){return this.match_},enumerable:!0,configurable:!0}),t.prototype.select=function(e){var t=this.deck_,n=this.match_;if(a.matches(e,n))return t.select(e)},t.prototype.teardown=function(){var e=this.deck_;e&&(e.resume(),e.unsubscribe())},t}(l.BasePlugin);t.PausePlugin=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);t.detect=r.detect;var o=n(4);t.defaultLogger=o.defaultLogger,t.toLogger=o.toLogger;var i=n(1);t.matches=i.matches;var s=n(8);t.BasePlugin=s.BasePlugin;var u=n(41);t.create=u.create;var a=n(2);t.inferPath=a.inferPath,t.inferType=a.inferType;var c=n(5),l=n(8);t.plugins={CyclePlugin:l.CyclePlugin,DebugPlugin:l.DebugPlugin,DevToolsPlugin:l.DevToolsPlugin,GraphPlugin:l.GraphPlugin,LetPlugin:l.LetPlugin,LogPlugin:l.LogPlugin,PausePlugin:l.PausePlugin,SnapshotPlugin:l.SnapshotPlugin,StackTracePlugin:l.StackTracePlugin,StatsPlugin:l.StatsPlugin},t.operators={hide:c.hide,tag:c.tag}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSubscriptionRef=function(e){return e&&e.subscription}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),s=n(0),u=n(9),a=n(2),c=Symbol("cycleDetected"),l=Symbol("cycleWarned"),p=function(e){function t(t,n){var r=e.call(this,"cycle")||this;return r.nexts_=[],r.logger_=i.toLogger(n),r.spy_=t,r}return o(t,e),t.prototype.afterNext=function(e,t){this.nexts_.pop()},t.prototype.beforeNext=function(e,t){var n=this.logger_,r=this.nexts_,o=this.spy_,i=e.observable,s=e.subscription;if(-1!==r.indexOf(e)&&!s[c]&&(s[c]=!0,-1===r.findIndex(function(e){return e.subscription[l]}))){s[l]=!0;var p=u.getStackTrace(e);0===p.length&&o.warnOnce(console,"Stack tracing is not enabled; add the StackTracePlugin before the CyclePlugin.");var f=p.length?"; subscribed at\n"+p.join("\n"):"",h=a.inferType(i);n.warn("Cyclic next detected; type = "+h+"; value = "+t+f)}r.push(e)},t}(s.BasePlugin);t.CyclePlugin=p},function(e,t,n){var r,o,i;!function(s,u){"use strict";o=[n(14)],void 0===(i="function"==typeof(r=function(e){var t=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,r=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){var r=t.stack.split("\n").filter(function(e){return!!e.match(n)},this);return r.map(function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),r=this.extractLocation(n.pop()),o=n.join(" ")||void 0,i=["eval","<anonymous>"].indexOf(r[0])>-1?void 0:r[0];return new e({functionName:o,fileName:i,lineNumber:r[1],columnNumber:r[2],source:t})},this)},parseFFOrSafari:function(t){var n=t.stack.split("\n").filter(function(e){return!e.match(r)},this);return n.map(function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=t.match(n),o=r&&r[1]?r[1]:void 0,i=this.extractLocation(t.replace(n,""));return new e({functionName:o,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),o=[],i=2,s=r.length;i<s;i+=2){var u=n.exec(r[i]);u&&o.push(new e({fileName:u[2],lineNumber:u[1],source:r[i]}))}return o},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),o=[],i=0,s=r.length;i<s;i+=2){var u=n.exec(r[i]);u&&o.push(new e({functionName:u[3]||void 0,fileName:u[2],lineNumber:u[1],source:r[i]}))}return o},parseOpera11:function(n){var r=n.stack.split("\n").filter(function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this);return r.map(function(t){var n,r=t.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",s=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;i.match(/\(([^\)]*)\)/)&&(n=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var u=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e({functionName:s,args:u,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})},this)}}})?r.apply(t,o):r)||(e.exports=i)}()},function(e,t,n){var r,o,i;!function(s,u){"use strict";o=[n(26),n(14)],void 0===(i="function"==typeof(r=function(e,t){function n(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("get",e),r.onerror=n,r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300||"file://"===e.substr(0,7)&&r.responseText?t(r.responseText):n(new Error("HTTP status: "+r.status+" retrieving "+e)))},r.send()})}function r(e){if("undefined"!=typeof window&&window.atob)return window.atob(e);throw new Error("You must supply a polyfill for window.atob in this environment")}function o(e){if("object"!=typeof e)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof e.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof e.lineNumber||e.lineNumber%1!=0||e.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof e.columnNumber||e.columnNumber%1!=0||e.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}return function i(s){if(!(this instanceof i))return new i(s);s=s||{},this.sourceCache=s.sourceCache||{},this.sourceMapConsumerCache=s.sourceMapConsumerCache||{},this.ajax=s.ajax||n,this._atob=s.atob||r,this._get=function(e){return new Promise(function(t,n){var r="data:"===e.substr(0,5);if(this.sourceCache[e])t(this.sourceCache[e]);else if(s.offline&&!r)n(new Error("Cannot make network requests in offline mode"));else if(r){var o=e.match(/^data:application\/json;([\w=:"-]+;)*base64,/);if(o){var i=o[0].length,u=e.substr(i),a=this._atob(u);this.sourceCache[e]=a,t(a)}else n(new Error("The encoding of the inline sourcemap is not supported"))}else{var c=this.ajax(e,{method:"get"});this.sourceCache[e]=c,c.then(t,n)}}.bind(this))},this._getSourceMapConsumer=function(t,n){return new Promise(function(r,o){if(this.sourceMapConsumerCache[t])r(this.sourceMapConsumerCache[t]);else{var i=new Promise(function(r,o){return this._get(t).then(function(t){"string"==typeof t&&(t=function(e){if("undefined"!=typeof JSON&&JSON.parse)return JSON.parse(e);throw new Error("You must supply a polyfill for JSON.parse in this environment")}(t.replace(/^\)\]\}'/,""))),void 0===t.sourceRoot&&(t.sourceRoot=n),r(new e.SourceMapConsumer(t))},o)}.bind(this));this.sourceMapConsumerCache[t]=i,r(i)}}.bind(this))},this.pinpoint=function(e){return new Promise(function(t,n){this.getMappedLocation(e).then(function(e){function n(){t(e)}this.findFunctionName(e).then(t,n).catch(n)}.bind(this),n)}.bind(this))},this.findFunctionName=function(e){return new Promise(function(n,r){o(e),this._get(e.fileName).then(function(r){var o=e.lineNumber,i=e.columnNumber,s=function(e,t){for(var n=[/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,/function\s+([^('"`]*?)\s*\(([^)]*)\)/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,/\b(?!(?:if|for|switch|while|with|catch)\b)(?:(?:static)\s+)?(\S+)\s*\(.*?\)\s*\{/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*\(.*?\)\s*=>/],r=e.split("\n"),o="",i=Math.min(t,20),s=0;s<i;++s){var u=r[t-s-1],a=u.indexOf("//");if(a>=0&&(u=u.substr(0,a)),u){o=u+o;for(var c=n.length,l=0;l<c;l++){var p=n[l].exec(o);if(p&&p[1])return p[1]}}}return}(r,o);n(s?new t({functionName:s,args:e.args,fileName:e.fileName,lineNumber:o,columnNumber:i}):e)},r).catch(r)}.bind(this))},this.getMappedLocation=function(e){return new Promise(function(n,r){!function(){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw new Error("Unable to consume source maps in older browsers")}(),o(e);var i=this.sourceCache,s=e.fileName;this._get(s).then(function(r){var o=function(e){var t,n,r=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/gm;for(;n=r.exec(e);)t=n[1];if(t)return t;throw new Error("sourceMappingURL not found")}(r),u="data:"===o.substr(0,5),a=s.substring(0,s.lastIndexOf("/")+1);return"/"===o[0]||u||/^https?:\/\/|^\/\//i.test(o)||(o=a+o),this._getSourceMapConsumer(o,a).then(function(r){return function(e,n,r){return new Promise(function(o,i){var s=n.originalPositionFor({line:e.lineNumber,column:e.columnNumber});if(s.source){var u=n.sourceContentFor(s.source);u&&(r[s.source]=u),o(new t({functionName:s.name||e.functionName,args:e.args,fileName:s.source,lineNumber:s.line,columnNumber:s.column}))}else i(new Error("Could not get original source for given stackframe and source map"))})}(e,r,i).then(n).catch(function(){n(e)})})}.bind(this),r).catch(r)}.bind(this))}}})?r.apply(t,o):r)||(e.exports=i)}()},function(e,t,n){t.SourceMapGenerator=n(15).SourceMapGenerator,t.SourceMapConsumer=n(29).SourceMapConsumer,t.SourceNode=n(32).SourceNode},function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},function(e,t,n){var r=n(6);function o(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},o.prototype.add=function(e){var t,n,o,i,s,u;t=this._last,n=e,o=t.generatedLine,i=n.generatedLine,s=t.generatedColumn,u=n.generatedColumn,i>o||i==o&&u>=s||r.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},o.prototype.toArray=function(){return this._sorted||(this._array.sort(r.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.MappingList=o},function(e,t,n){var r=n(6),o=n(30),i=n(17).ArraySet,s=n(16),u=n(31).quickSort;function a(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new p(t):new c(t)}function c(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=r.getArg(t,"version"),o=r.getArg(t,"sources"),s=r.getArg(t,"names",[]),u=r.getArg(t,"sourceRoot",null),a=r.getArg(t,"sourcesContent",null),c=r.getArg(t,"mappings"),l=r.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);o=o.map(String).map(r.normalize).map(function(e){return u&&r.isAbsolute(u)&&r.isAbsolute(e)?r.relative(u,e):e}),this._names=i.fromArray(s.map(String),!0),this._sources=i.fromArray(o,!0),this.sourceRoot=u,this.sourcesContent=a,this._mappings=c,this.file=l}function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function p(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=r.getArg(t,"version"),o=r.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new i,this._names=new i;var s={line:-1,column:0};this._sections=o.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=r.getArg(e,"offset"),n=r.getArg(t,"line"),o=r.getArg(t,"column");if(n<s.line||n===s.line&&o<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=t,{generatedOffset:{generatedLine:n+1,generatedColumn:o+1},consumer:new a(r.getArg(e,"map"))}})}a.fromSourceMap=function(e){return c.fromSourceMap(e)},a.prototype._version=3,a.prototype.__generatedMappings=null,Object.defineProperty(a.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),a.prototype.__originalMappings=null,Object.defineProperty(a.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),a.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},a.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},a.GENERATED_ORDER=1,a.ORIGINAL_ORDER=2,a.GREATEST_LOWER_BOUND=1,a.LEAST_UPPER_BOUND=2,a.prototype.eachMapping=function(e,t,n){var o,i=t||null;switch(n||a.GENERATED_ORDER){case a.GENERATED_ORDER:o=this._generatedMappings;break;case a.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;o.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=s&&(t=r.join(s,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,i)},a.prototype.allGeneratedPositionsFor=function(e){var t=r.getArg(e,"line"),n={source:r.getArg(e,"source"),originalLine:t,originalColumn:r.getArg(e,"column",0)};if(null!=this.sourceRoot&&(n.source=r.relative(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var i=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,o.LEAST_UPPER_BOUND);if(s>=0){var u=this._originalMappings[s];if(void 0===e.column)for(var a=u.originalLine;u&&u.originalLine===a;)i.push({line:r.getArg(u,"generatedLine",null),column:r.getArg(u,"generatedColumn",null),lastColumn:r.getArg(u,"lastGeneratedColumn",null)}),u=this._originalMappings[++s];else for(var c=u.originalColumn;u&&u.originalLine===t&&u.originalColumn==c;)i.push({line:r.getArg(u,"generatedLine",null),column:r.getArg(u,"generatedColumn",null),lastColumn:r.getArg(u,"lastGeneratedColumn",null)}),u=this._originalMappings[++s]}return i},t.SourceMapConsumer=a,c.prototype=Object.create(a.prototype),c.prototype.consumer=a,c.fromSourceMap=function(e){var t=Object.create(c.prototype),n=t._names=i.fromArray(e._names.toArray(),!0),o=t._sources=i.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var s=e._mappings.toArray().slice(),a=t.__generatedMappings=[],p=t.__originalMappings=[],f=0,h=s.length;f<h;f++){var g=s[f],d=new l;d.generatedLine=g.generatedLine,d.generatedColumn=g.generatedColumn,g.source&&(d.source=o.indexOf(g.source),d.originalLine=g.originalLine,d.originalColumn=g.originalColumn,g.name&&(d.name=n.indexOf(g.name)),p.push(d)),a.push(d)}return u(t.__originalMappings,r.compareByOriginalPositions),t},c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){return this._sources.toArray().map(function(e){return null!=this.sourceRoot?r.join(this.sourceRoot,e):e},this)}}),c.prototype._parseMappings=function(e,t){for(var n,o,i,a,c,p=1,f=0,h=0,g=0,d=0,b=0,_=e.length,v=0,m={},y={},S=[],w=[];v<_;)if(";"===e.charAt(v))p++,v++,f=0;else if(","===e.charAt(v))v++;else{for((n=new l).generatedLine=p,a=v;a<_&&!this._charIsMappingSeparator(e,a);a++);if(i=m[o=e.slice(v,a)])v+=o.length;else{for(i=[];v<a;)s.decode(e,v,y),c=y.value,v=y.rest,i.push(c);if(2===i.length)throw new Error("Found a source, but no line and column");if(3===i.length)throw new Error("Found a source and line, but no column");m[o]=i}n.generatedColumn=f+i[0],f=n.generatedColumn,i.length>1&&(n.source=d+i[1],d+=i[1],n.originalLine=h+i[2],h=n.originalLine,n.originalLine+=1,n.originalColumn=g+i[3],g=n.originalColumn,i.length>4&&(n.name=b+i[4],b+=i[4])),w.push(n),"number"==typeof n.originalLine&&S.push(n)}u(w,r.compareByGeneratedPositionsDeflated),this.__generatedMappings=w,u(S,r.compareByOriginalPositions),this.__originalMappings=S},c.prototype._findMapping=function(e,t,n,r,i,s){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return o.search(e,t,i,s)},c.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},c.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",r.compareByGeneratedPositionsDeflated,r.getArg(e,"bias",a.GREATEST_LOWER_BOUND));if(n>=0){var o=this._generatedMappings[n];if(o.generatedLine===t.generatedLine){var i=r.getArg(o,"source",null);null!==i&&(i=this._sources.at(i),null!=this.sourceRoot&&(i=r.join(this.sourceRoot,i)));var s=r.getArg(o,"name",null);return null!==s&&(s=this._names.at(s)),{source:i,line:r.getArg(o,"originalLine",null),column:r.getArg(o,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e}))},c.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=r.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var n;if(null!=this.sourceRoot&&(n=r.urlParse(this.sourceRoot))){var o=e.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!n.path||"/"==n.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(e){var t=r.getArg(e,"source");if(null!=this.sourceRoot&&(t=r.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};var n={source:t=this._sources.indexOf(t),originalLine:r.getArg(e,"line"),originalColumn:r.getArg(e,"column")},o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,r.getArg(e,"bias",a.GREATEST_LOWER_BOUND));if(o>=0){var i=this._originalMappings[o];if(i.source===n.source)return{line:r.getArg(i,"generatedLine",null),column:r.getArg(i,"generatedColumn",null),lastColumn:r.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},t.BasicSourceMapConsumer=c,p.prototype=Object.create(a.prototype),p.prototype.constructor=a,p.prototype._version=3,Object.defineProperty(p.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),p.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=o.search(t,this._sections,function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:t.generatedLine-(i.generatedOffset.generatedLine-1),column:t.generatedColumn-(i.generatedOffset.generatedLine===t.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},p.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},p.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},p.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer.sources.indexOf(r.getArg(e,"source"))){var o=n.consumer.generatedPositionFor(e);if(o)return{line:o.line+(n.generatedOffset.generatedLine-1),column:o.column+(n.generatedOffset.generatedLine===o.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},p.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var o=this._sections[n],i=o.consumer._generatedMappings,s=0;s<i.length;s++){var a=i[s],c=o.consumer._sources.at(a.source);null!==o.consumer.sourceRoot&&(c=r.join(o.consumer.sourceRoot,c)),this._sources.add(c),c=this._sources.indexOf(c);var l=o.consumer._names.at(a.name);this._names.add(l),l=this._names.indexOf(l);var p={source:c,generatedLine:a.generatedLine+(o.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(o.generatedOffset.generatedLine===a.generatedLine?o.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:l};this.__generatedMappings.push(p),"number"==typeof p.originalLine&&this.__originalMappings.push(p)}u(this.__generatedMappings,r.compareByGeneratedPositionsDeflated),u(this.__originalMappings,r.compareByOriginalPositions)},t.IndexedSourceMapConsumer=p},function(e,t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,r,o){if(0===n.length)return-1;var i=function e(n,r,o,i,s,u){var a=Math.floor((r-n)/2)+n,c=s(o,i[a],!0);return 0===c?a:c>0?r-a>1?e(a,r,o,i,s,u):u==t.LEAST_UPPER_BOUND?r<i.length?r:-1:a:a-n>1?e(n,a,o,i,s,u):u==t.LEAST_UPPER_BOUND?a:n<0?-1:n}(-1,n.length,e,n,r,o||t.GREATEST_LOWER_BOUND);if(i<0)return-1;for(;i-1>=0&&0===r(n[i],n[i-1],!0);)--i;return i}},function(e,t){function n(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function r(e,t,o,i){if(o<i){var s=o-1;n(e,(l=o,p=i,Math.round(l+Math.random()*(p-l))),i);for(var u=e[i],a=o;a<i;a++)t(e[a],u)<=0&&n(e,s+=1,a);n(e,s+1,a);var c=s+1;r(e,t,o,c-1),r(e,t,c+1,i)}var l,p}t.quickSort=function(e,t){r(e,t,0,e.length-1)}},function(e,t,n){var r=n(15).SourceMapGenerator,o=n(6),i=/(\r?\n)/,s="$$$isSourceNode$$$";function u(e,t,n,r,o){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==o?null:o,this[s]=!0,null!=r&&this.add(r)}u.fromStringWithSourceMap=function(e,t,n){var r=new u,s=e.split(i),a=function(){return s.shift()+(s.shift()||"")},c=1,l=0,p=null;return t.eachMapping(function(e){if(null!==p){if(!(c<e.generatedLine)){var t=(n=s[0]).substr(0,e.generatedColumn-l);return s[0]=n.substr(e.generatedColumn-l),l=e.generatedColumn,f(p,t),void(p=e)}f(p,a()),c++,l=0}for(;c<e.generatedLine;)r.add(a()),c++;if(l<e.generatedColumn){var n=s[0];r.add(n.substr(0,e.generatedColumn)),s[0]=n.substr(e.generatedColumn),l=e.generatedColumn}p=e},this),s.length>0&&(p&&f(p,a()),r.add(s.join(""))),t.sources.forEach(function(e){var i=t.sourceContentFor(e);null!=i&&(null!=n&&(e=o.join(n,e)),r.setSourceContent(e,i))}),r;function f(e,t){if(null===e||void 0===e.source)r.add(t);else{var i=n?o.join(n,e.source):e.source;r.add(new u(e.originalLine,e.originalColumn,i,t,e.name))}}},u.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},u.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},u.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},u.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},u.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[s]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},u.prototype.setSourceContent=function(e,t){this.sourceContents[o.toSetString(e)]=t},u.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(o.fromSetString(r[t]),this.sourceContents[r[t]])},u.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e},u.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new r(e),o=!1,i=null,s=null,u=null,a=null;return this.walk(function(e,r){t.code+=e,null!==r.source&&null!==r.line&&null!==r.column?(i===r.source&&s===r.line&&u===r.column&&a===r.name||n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name}),i=r.source,s=r.line,u=r.column,a=r.name,o=!0):o&&(n.addMapping({generated:{line:t.line,column:t.column}}),i=null,o=!1);for(var c=0,l=e.length;c<l;c++)10===e.charCodeAt(c)?(t.line++,t.column=0,c+1===l?(i=null,o=!1):o&&n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name})):t.column++}),this.walkSourceContents(function(e,t){n.setSourceContent(e,t)}),{code:t.code,map:n}},t.SourceNode=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hide=function(){return function(e){return e.lift(new r)}};var r=function(){function e(){this.hide=!0}return e.prototype.call=function(e,t){return t.subscribe(e)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tag=function(e){return function(t){return t.lift(new r(e))}};var r=function(){function e(e){this.tag=e}return e.prototype.call=function(e,t){return t.subscribe(e)},e}()},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=function(e){function t(t,n){var r=e.call(this,"debug("+i.toString(t)+")")||this;return r.notifications_=n,r.matcher_=function(e,n){return i.matches(e,t)&&-1!==r.notifications_.indexOf(n)},r}return o(t,e),t.prototype.beforeComplete=function(e){(0,this.matcher_)(e,"complete")},t.prototype.beforeError=function(e,t){(0,this.matcher_)(e,"error")},t.prototype.beforeNext=function(e,t){(0,this.matcher_)(e,"next")},t.prototype.beforeSubscribe=function(e){(0,this.matcher_)(e,"subscribe")},t.prototype.beforeUnsubscribe=function(e){(0,this.matcher_)(e,"unsubscribe")},t}(n(0).BasePlugin);t.DebugPlugin=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(37),u=n(3),a=n(10),c=n(18),l=n(38),p=n(11),f=n(7),h=n(19),g=n(1),d=n(5),b=n(20),_=n(0),v=n(13),m=n(9),y=n(2),S=function(e){function t(t){var n=e.call(this,"devTools")||this;if(n.batchQueue_=[],n.plugins_=new Map,n.snapshotHinted_=!1,n.spy_=t,"undefined"!=typeof window&&window[c.EXTENSION_KEY]){var r=window[c.EXTENSION_KEY];n.connection_=r.connect({version:t.version}),n.posts_=new u.Observable(function(e){return n.connection_?n.connection_.subscribe(function(t){return e.next(t)}):function(){}}),n.responses_=n.posts_.pipe(a.filter(l.isPostRequest),a.map(function(e){var t={messageType:c.MESSAGE_RESPONSE,request:e};switch(e.requestType){case"log":n.recordPlugin_(e.spyId,e.postId,new h.LogPlugin(n.spy_,e.spyId)),t.pluginId=e.postId;break;case"log-teardown":n.teardownPlugin_(e.pluginId);break;case"pause":var r=new b.PausePlugin(e.spyId);n.recordPlugin_(e.spyId,e.postId,r),r.deck.stats.pipe(d.hide()).subscribe(function(t){n.batchDeckStats_(function(e,t){return i({id:e},t)}(e.spyId,t))}),t.pluginId=e.postId;break;case"pause-command":var o=n.plugins_.get(e.pluginId);if(o){var s=o.plugin.deck;switch(e.command){case"clear":case"pause":case"resume":case"skip":case"step":s[e.command]();break;case"inspect":t.error="Not implemented.";break;default:t.error="Unexpected command."}}break;case"pause-teardown":n.teardownPlugin_(e.pluginId);break;case"snapshot":n.snapshotHinted_=!1;var u=n.spy_.find(v.SnapshotPlugin);if(u){var a=u.snapshotAll();return t.snapshot=function(e){return{observables:Array.from(e.observables.values()).map(function(e){return{id:e.id,path:e.path,subscriptions:Array.from(e.subscriptions.values()).map(function(e){return e.id}),tag:w(e.tag),tick:e.tick,type:e.type}}),subscribers:Array.from(e.subscribers.values()).map(function(e){return{id:e.id,subscriptions:Array.from(e.subscriptions.values()).map(function(e){return e.id}),tick:e.tick,values:e.values.map(function(e){return{tick:e.tick,timestamp:e.timestamp,value:E(e.value)}}),valuesFlushed:e.valuesFlushed}}),subscriptions:Array.from(e.subscriptions.values()).map(function(e){return{complete:e.complete,error:e.error,graph:{flattenings:Array.from(e.flattenings.values()).map(function(e){return e.id}),flatteningsFlushed:e.flatteningsFlushed,rootSink:e.rootSink?f.identify(e.rootSink):null,sink:e.sink?f.identify(e.sink):null,sources:Array.from(e.sources.values()).map(function(e){return e.id}),sourcesFlushed:e.sourcesFlushed},id:e.id,observable:f.identify(e.observable),stackTrace:e.stackTrace,subscriber:f.identify(e.subscriber),tick:e.tick,timestamp:e.timestamp,unsubscribed:e.unsubscribed}}),tick:e.tick}}(a),t}t.error="Cannot find snapshot plugin.";break;default:t.error="Unexpected request."}return t})),n.subscription_=n.responses_.pipe(d.hide()).subscribe(function(e){n.connection_&&n.connection_.post(e)})}return n}return o(t,e),t.prototype.afterSubscribe=function(e){this.batchNotification_({notification:"subscribe",prefix:"after",ref:e})},t.prototype.afterUnsubscribe=function(e){this.batchNotification_({notification:"unsubscribe",prefix:"after",ref:e})},t.prototype.beforeComplete=function(e){this.batchNotification_({notification:"complete",prefix:"before",ref:e})},t.prototype.beforeError=function(e,t){this.batchNotification_({error:t,notification:"error",prefix:"before",ref:e})},t.prototype.beforeNext=function(e,t){this.batchNotification_({notification:"next",prefix:"before",ref:e,value:t})},t.prototype.beforeSubscribe=function(e){this.batchNotification_({notification:"subscribe",prefix:"before",ref:e})},t.prototype.beforeUnsubscribe=function(e){this.batchNotification_({notification:"unsubscribe",prefix:"before",ref:e})},t.prototype.teardown=function(){void 0!==this.batchTimeoutId_&&(clearTimeout(this.batchTimeoutId_),this.batchTimeoutId_=void 0),this.connection_&&(this.connection_.disconnect(),this.connection_=void 0,this.subscription_.unsubscribe())},t.prototype.batchDeckStats_=function(e){this.batchQueue_=this.batchQueue_.filter(function(t){return"deck-stats"!==t.broadcastType||t.stats.id!==e.id}),this.batchMessage_({broadcastType:"deck-stats",messageType:c.MESSAGE_BROADCAST,stats:e})},t.prototype.batchMessage_=function(e){var t=this;void 0!==this.batchTimeoutId_?this.batchQueue_.push(e):(this.batchQueue_=[e],this.batchTimeoutId_=setTimeout(function(){var e=t.connection_;e&&(e.post({messageType:c.MESSAGE_BATCH,messages:t.batchQueue_}),t.batchTimeoutId_=void 0,t.batchQueue_=[])},c.BATCH_MILLISECONDS))},t.prototype.batchNotification_=function(e){if(this.connection_){if(this.snapshotHinted_)return;this.batchQueue_.reduce(function(e,t){return"notification"===t.broadcastType?e+1:e},0)>c.BATCH_NOTIFICATIONS?(this.batchQueue_=this.batchQueue_.filter(function(e){return"notification"!==e.broadcastType}),this.batchMessage_({broadcastType:"snapshot-hint",messageType:c.MESSAGE_BROADCAST}),this.snapshotHinted_=!0):this.batchMessage_({broadcastType:"notification",messageType:c.MESSAGE_BROADCAST,notification:this.toNotification_(e)})}},t.prototype.recordPlugin_=function(e,t,n){var r=this.spy_.plug(n);this.plugins_.set(t,{plugin:n,pluginId:t,spyId:e,teardown:r})},t.prototype.teardownPlugin_=function(e){var t=this.plugins_,n=t.get(e);n&&(n.teardown(),t.delete(e))},t.prototype.toNotification_=function(e){var t=e.error,n=e.notification,r=e.prefix,o=e.ref,i=e.value,s=o.observable,u=o.subscriber;return{id:f.identify({}),observable:{id:f.identify(s),path:y.inferPath(s),tag:w(g.read(s)),type:y.inferType(s)},subscriber:{id:f.identify(u)},subscription:{error:t,graph:w(O(o)),id:f.identify(o),stackTrace:w(m.getStackTrace(o))},tick:this.spy_.tick,timestamp:Date.now(),type:r+"-"+n,value:void 0===i?void 0:E(i)}},t}(_.BasePlugin);function w(e){return void 0===e?null:e}function O(e){var t=p.getGraphRef(e);if(t){var n=t.flattenings,r=t.flatteningsFlushed,o=t.rootSink,i=t.sink,s=t.sources,u=t.sourcesFlushed;return{flattenings:n.map(f.identify),flatteningsFlushed:r,rootSink:o?f.identify(o):null,sink:i?f.identify(i):null,sources:s.map(f.identify),sourcesFlushed:u}}}function E(e){return{json:s.stringify(e,null,null,!0)}}t.DevToolsPlugin=S},function(e,t){
/*!
Copyright (C) 2013-2017 by Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
var n="~",r="\\x"+("0"+n.charCodeAt(0).toString(16)).slice(-2),o="\\"+r,i=new RegExp(r,"g"),s=new RegExp(o,"g"),u=new RegExp("(?:^|([^\\\\]))"+o),a=[].indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},c=String;function l(e,t,r){return t instanceof Array?function(e,t,n){for(var r=0,o=t.length;r<o;r++)t[r]=l(e,t[r],n);return t}(e,t,r):t instanceof c?t.length?r.hasOwnProperty(t)?r[t]:r[t]=function(e,t){for(var r=0,o=t.length;r<o;e=e[t[r++].replace(s,n)]);return e}(e,t.split(n)):e:t instanceof Object?function(e,t,n){for(var r in t)t.hasOwnProperty(r)&&(t[r]=l(e,t[r],n));return t}(e,t,r):t}var p={stringify:function(e,t,s,u){return p.parser.stringify(e,function(e,t,s){var u,c,l=!1,p=!!t,f=[],h=[e],g=[e],d=[s?n:"[Circular]"],b=e,_=1;return p&&(c="object"==typeof t?function(e,n){return""!==e&&t.indexOf(e)<0?void 0:n}:t),function(e,t){return p&&(t=c.call(this,e,t)),l?(b!==this&&(u=_-a.call(h,this)-1,_-=u,h.splice(_,h.length),f.splice(_-1,f.length),b=this),"object"==typeof t&&t?(a.call(h,t)<0&&h.push(b=t),_=h.length,(u=a.call(g,t))<0?(u=g.push(t)-1,s?(f.push((""+e).replace(i,r)),d[u]=n+f.join(n)):d[u]=d[0]):t=d[u]):"string"==typeof t&&s&&(t=t.replace(r,o).replace(n,r))):l=!0,t}}(e,t,!u),s)},parse:function(e,t){return p.parser.parse(e,function(e){return function(t,i){var s="string"==typeof i;return s&&i.charAt(0)===n?new c(i.slice(1)):(""===t&&(i=l(i,i,{})),s&&(i=i.replace(u,"$1"+n).replace(o,r)),e?e.call(this,t,i):i)}}(t))},parser:JSON};e.exports=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18);function o(e){return void 0!==e.postType}t.isBatch=function(e){return e.messageType===r.MESSAGE_BATCH},t.isBroadcast=function(e){return e.messageType===r.MESSAGE_BROADCAST},t.isPost=o,t.isPostRequest=function(e){return o(e)&&e.messageType===r.MESSAGE_REQUEST},t.isPostResponse=function(e){return o(e)&&e.messageType===r.MESSAGE_RESPONSE},t.isRequest=function(e){return e.messageType===r.MESSAGE_REQUEST},t.isResponse=function(e){return e.messageType===r.MESSAGE_RESPONSE}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),s=n(1),u=function(e){function t(t,n,r){var o=(void 0===r?{}:r).complete,u=void 0===o||o,a=e.call(this,"let("+s.toString(t)+")")||this;return a.match_=t,a.select_=u?n:function(e){return i.merge(i.NEVER,n(e))},a}return o(t,e),t.prototype.select=function(e){var t=this.match_,n=this.select_;if(s.matches(e,t))return n},t}(n(0).BasePlugin);t.LetPlugin=u},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(11),u=function(e){function t(t){var n=e.call(this,"stats")||this;return n.spy_=t,n.stats_={completes:0,errors:0,flattenedSubscribes:0,leafSubscribes:0,maxDepth:0,nexts:0,rootSubscribes:0,subscribes:0,tick:0,timespan:0,totalDepth:0,unsubscribes:0},n.time_=0,n}return o(t,e),t.prototype.afterSubscribe=function(e){var t=this.stats_,n=s.getGraphRef(e);if(n){var r=n.depth,o=n.flattened,i=n.flattenings,u=n.flatteningsFlushed,a=n.rootSink,c=n.sources,l=n.sourcesFlushed;a||(t.rootSubscribes+=1),o&&(t.flattenedSubscribes+=1),i.length+u+c.length+l===0&&(t.maxDepth<r&&(t.maxDepth=r),t.leafSubscribes+=1,t.totalDepth+=r)}},t.prototype.beforeComplete=function(e){++this.stats_.completes,this.all_()},t.prototype.beforeError=function(e,t){++this.stats_.errors,this.all_()},t.prototype.beforeNext=function(e,t){++this.stats_.nexts,this.all_()},t.prototype.beforeSubscribe=function(e){++this.stats_.subscribes,this.all_()},t.prototype.beforeUnsubscribe=function(e){++this.stats_.unsubscribes,this.all_()},Object.defineProperty(t.prototype,"stats",{get:function(){var e=this.stats_;return i({},e)},enumerable:!0,configurable:!0}),t.prototype.all_=function(){var e=this.spy_,t=this.stats_,n=this.time_;0===n?this.time_=Date.now():t.timespan=Date.now()-n,t.tick=e.tick},t}(n(0).BasePlugin);t.StatsPlugin=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42);t.create=function(e){return void 0===e&&(e={}),new r.SpyCore(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(43),i=n(12),s=n(44),u=n(45),a=n(7),c=n(4),l=n(1),p=n(5),f=n(8),h=n(46),g=n(2),d=r.Observable.prototype.subscribe,b={},_=function(){function e(t){void 0===t&&(t={});var n=this;if(this.maxLogged_=20,e.spy_)throw new Error("Already spying on Observable.prototype.subscribe.");t.warning&&console.warn("Spying on Observable.prototype.subscribe."),e.spy_=this,r.Observable.prototype.subscribe=e.coreSubscribe_,this.auditor_=new o.Auditor(t.audit||0),this.defaultLogger_=t.defaultLogger||c.defaultLogger,!1===t.defaultPlugins?this.plugins_=[]:(this.plugins_=[new f.StackTracePlugin(t),new f.GraphPlugin(t),new f.SnapshotPlugin(this,t),new f.CyclePlugin(this,this.defaultLogger_),new f.StatsPlugin(this)],!1!==t.devTools&&this.plugins_.push(new f.DevToolsPlugin(this))),this.pluginsSubject_=new r.BehaviorSubject(this.plugins_),this.tick_=0,this.undos_=[],this.warned_={};var u=new s.Detector(this);i.hook(function(e){return n.detect_(e,u)}),"undefined"!=typeof window&&[t.global||"spy","rxSpy"].forEach(function(e){window.hasOwnProperty(e)&&(n.defaultLogger_.log("Overwriting window."+e),b[e]=window[e]),window[e]=h.wrap(n,"rxSpy"===e?function(){return n.warnOnce(n.defaultLogger_,"window."+e+" is deprecated and has been renamed; use window.spy instead")}:void 0)}),this.teardown_=function(){"undefined"!=typeof window&&[t.global||"spy","rxSpy"].forEach(function(e){b.hasOwnProperty(e)?(n.defaultLogger_.log("Restoring window."+e),window[e]=b[e],delete b[e]):delete window[e]}),i.hook(void 0),n.plugins_.forEach(function(e){return e.teardown()}),n.plugins_=[],n.pluginsSubject_.next(n.plugins_),n.undos_=[],e.spy_=void 0,r.Observable.prototype.subscribe=d}}return Object.defineProperty(e.prototype,"auditor",{get:function(){return this.auditor_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tick",{get:function(){return this.tick_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"undos",{get:function(){return this.undos_.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return"7.5.1"},enumerable:!0,configurable:!0}),e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return 0===t.length&&(t=["complete","error","next","subscribe","unsubscribe"]),this.plug(new f.DebugPlugin(e,t))},e.prototype.find=function(e){var t=this.plugins_.find(function(t){return t instanceof e});return t||void 0},e.prototype.findAll=function(e){return e?this.plugins_.filter(function(t){return t instanceof e}):this.plugins_},e.prototype.flush=function(){this.plugins_.forEach(function(e){return e.flush()})},e.prototype.let=function(e,t,n){return this.plug(new f.LetPlugin(e,t,n))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=/.+/,r=/.+/,o=this.defaultLogger_;if(1===e.length)"function"==typeof(i=e[0]).log?o=i:n=i;else if(2===e.length){var i=void 0;n=e[0],"function"==typeof(i=e[1]).log?o=i:r=i}else 3===e.length&&(n=e[0],r=e[1],o=e[2]);return this.plug(new f.LogPlugin(this,n,r,o))},e.prototype.maxLogged=function(e){this.maxLogged_=Math.max(e,1)},e.prototype.pause=function(e){var t=new f.PausePlugin(e),n=this.plug(t),r=t.deck;return r.teardown=n,r},e.prototype.plug=function(){for(var e,t,n=this,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return(e=this.plugins_).push.apply(e,r),this.pluginsSubject_.next(this.plugins_),(t=this.undos_).push.apply(t,r),function(){return n.unplug.apply(n,r)}},e.prototype.query=function(e,t){var n=this,r=this.find(f.SnapshotPlugin);if(r){var o=r.snapshotAll(),i=Array.from(o.observables.values()),s=c.toLogger(t||this.defaultLogger_);o.mapStackTraces(i).subscribe(function(){var t=[];i.forEach(function(n){var r;n.subscriptions.forEach(function(t){var i=o.subscribers.get(t.subscriber);i&&e({complete:t.complete,error:t.error,incomplete:!t.complete&&!t.error,path:n.path,root:t.sink===t.rootSink,tag:n.tag,type:n.type,unsubscribed:t.unsubscribed})&&(r||(r={observable:n,subs:[]}),r.subs.push({subscriber:i,subscription:t}))}),r&&t.push(r)});var r=n.maxLogged_,u=t.length>r?t.length-r:0;u&&t.splice(r,u),s.group(t.length+u+" snapshot(s) found");var a=t.length>3?"groupCollapsed":"group";t.forEach(function(e){var t=e.observable;s[a].call(s,t.tag?"Tag = "+t.tag:"Type = "+t.type),s.log("Path =",t.path);var n=e.subs,r=e.subs.length>3?"groupCollapsed":"group";s.group(n.length+" subscriber(s)"),n.forEach(function(e){var t=e.subscription,n=e.subscriber,o=n.values,i=n.valuesFlushed;s[r].call(s,"Subscriber"),s.log("Value count =",o.length+i),o.length>0&&s.log("Last value =",o[o.length-1].value),v(s,t),Array.from(n.subscriptions.values()).filter(function(e){return e!==t}).forEach(function(e){s.groupCollapsed("Other subscription"),v(s,e),s.groupEnd()}),s.groupEnd()}),s.groupEnd(),s.groupEnd()}),u&&s.log("... another "+u+" snapshot(s) not logged."),s.groupEnd()})}else this.warnOnce(console,"Snapshotting is not enabled.")},e.prototype.show=function(e,t){var n=/.+/;e?"function"==typeof e.log&&(t=e,e=n):e=n;var r=this.find(f.SnapshotPlugin);if(r){var o=r.snapshotAll(),i=Array.from(o.observables.values()).filter(function(t){return l.matches(t.observable,e)}),s=c.toLogger(t||this.defaultLogger_),u=this.maxLogged_,a=i.length>u?i.length-u:0;a&&i.splice(u,a),o.mapStackTraces(i).subscribe(function(){s.group(i.length+a+" snapshot(s) matching "+l.toString(e));var t=i.length>3?"groupCollapsed":"group";i.forEach(function(e){s[t].call(s,e.tag?"Tag = "+e.tag:"Type = "+e.type),s.log("Path =",e.path);var n=e.subscriptions,r=n.size>3?"groupCollapsed":"group";s.group(n.size+" subscriber(s)"),n.forEach(function(e){var t=o.subscribers.get(e.subscriber);if(t){var n=t.values,i=t.valuesFlushed;s[r].call(s,"Subscriber"),s.log("Value count =",n.length+i),n.length>0&&s.log("Last value =",n[n.length-1].value),v(s,e),Array.from(t.subscriptions.values()).filter(function(t){return t!==e}).forEach(function(e){s.groupCollapsed("Other subscription"),v(s,e),s.groupEnd()}),s.groupEnd()}else s.warn("Cannot find subscriber snapshot")}),s.groupEnd(),s.groupEnd()}),a&&s.log("... another "+a+" snapshot(s) not logged."),s.groupEnd()})}else this.warnOnce(console,"Snapshotting is not enabled.")},e.prototype.stats=function(e){var t=this.find(f.StatsPlugin);if(t){var n=t.stats,r=n.leafSubscribes,o=n.maxDepth,i=n.flattenedSubscribes,s=n.rootSubscribes,u=n.totalDepth,a=c.toLogger(e||this.defaultLogger_);a.group("Stats"),a.log("Subscribes =",n.subscribes),s>0&&a.log("Root subscribes =",s),r>0&&a.log("Leaf subscribes =",r),i>0&&a.log("Flattened subscribes =",i),a.log("Unsubscribes =",n.unsubscribes),a.log("Nexts =",n.nexts),a.log("Errors =",n.errors),a.log("Completes =",n.completes),o>0&&(a.log("Max. depth =",o),a.log("Avg. depth =",(u/r).toFixed(1))),a.log("Tick =",n.tick),a.log("Timespan =",n.timespan),a.groupEnd()}else this.warnOnce(console,"Stats are not enabled.")},e.prototype.teardown=function(){this.teardown_&&(this.teardown_(),this.teardown_=void 0)},e.prototype.unplug=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach(function(t){t.teardown(),e.plugins_=e.plugins_.filter(function(e){return e!==t}),e.pluginsSubject_.next(e.plugins_),e.undos_=e.undos_.filter(function(e){return e!==t})})},e.prototype.warn=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this.warnOnce.apply(this,[e,t].concat(n))},e.prototype.warnOnce=function(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];this.warned_[t]||((n=c.toLogger(e)).warn.apply(n,[t].concat(r)),this.warned_[t]=!0)},e.coreSubscribe_=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=this,i=e.spy_;if(!i)return d.apply(o,t);if(u.hidden(o)){e.spy_=void 0;try{return d.apply(o,t)}finally{e.spy_=i}}var s=function(e,t,n){++i.tick_,i.plugins_.forEach(e),t(),i.plugins_.forEach(n)},c=g.toSubscriber.apply(void 0,t),l={observable:o,subscriber:c,subscription:new r.Subscription,timestamp:Date.now(),unsubscribed:!1};a.identify(o),a.identify(c),a.identify(l);var f=c.unsubscribe;c.unsubscribe=function(){c.closed?f.call(c):s(function(e){return e.beforeUnsubscribe(l)},function(){l.subscription.unsubscribe(),l.unsubscribed=!0,f.call(c)},function(e){return e.afterUnsubscribe(l)})};var h={complete:function(){s(function(e){return e.beforeComplete(l)},function(){return c.complete()},function(e){return e.afterComplete(l)})},error:function(e){s(function(t){return t.beforeError(l,e)},function(){return c.error(e)},function(t){return t.afterError(l,e)})},next:function(e){s(function(t){return t.beforeNext(l,e)},function(){return c.next(e)},function(t){return t.afterNext(l,e)})}},b={complete:function(){this.completed=!0,this.preSelectSubject?this.preSelectSubject.complete():this.postSelectObserver.complete()},completed:!1,error:function(e){this.errored=!0,this.preSelectSubject?this.preSelectSubject.error(e):this.postSelectObserver.error(e)},errored:!1,let:function(e){var t=e.map(function(e){return e.select(l)}).filter(Boolean);if(t.length>0){this.preSelectSubject||(this.preSelectSubject=new r.Subject),this.postSelectSubscription&&this.postSelectSubscription.unsubscribe();var n=this.preSelectSubject.asObservable();t.forEach(function(e){return n=e(n)}),this.postSelectSubscription=n.pipe(p.hide()).subscribe(h)}else this.postSelectSubscription&&(this.postSelectSubscription.unsubscribe(),this.postSelectSubscription=void 0,this.preSelectSubject=void 0)},next:function(e){this.preSelectSubject?this.preSelectSubject.next(e):this.postSelectObserver.next(e)},postSelectObserver:h,postSelectSubscription:void 0,preSelectSubject:void 0,unsubscribe:function(){this.unsubscribed||(this.unsubscribed=!0,this.completed||this.errored||this.postSelectSubscription&&(this.postSelectSubscription.unsubscribe(),this.postSelectSubscription=void 0))},unsubscribed:!1};return c.add(i.pluginsSubject_.pipe(p.hide()).subscribe({next:function(e){return b.let(e)}})),s(function(e){return e.beforeSubscribe(l)},function(){c.add(d.call(o,b)),c.add(function(){return b.unsubscribe()})},function(e){return e.afterSubscribe(l)}),c},e.prototype.detect_=function(e,t){var n=this.auditor_,r=this.defaultLogger_;n.audit(e,function(n){var o=t.detect(e),i=c.toLogger(r);if(o){var s=0===n?"":"; ignored "+n;i.group("Subscription changes detected; id = '"+e+"'"+s),o.subscriptions.forEach(function(e){u(i,"Subscription",e)}),o.unsubscriptions.forEach(function(e){u(i,"Unsubscription",e)}),o.flatteningSubscriptions.forEach(function(e){u(i,"Flattening subscription",e)}),o.flatteningUnsubscriptions.forEach(function(e){u(i,"Flattening unsubscription",e)}),i.groupEnd()}function u(e,t,n){e.group(t),e.log("Root subscribe",n.rootSink?n.rootSink.stackTrace:n.stackTrace),e.log("Subscribe",n.stackTrace),e.groupEnd()}})},e.spy_=void 0,e}();function v(e,t){var n=t.complete,r=t.error,o=t.unsubscribed;e.log("State =",n?"complete":r?"error":"incomplete"),r&&e.error("Error =",r),o&&e.log("Unsubscribed =",!0),function(e,t){var n=t.mappedStackTrace,r=t.rootSink;(r?r.mappedStackTrace:n).subscribe(function(t){return e.log("Root subscribe",t)})}(e,t)}t.SpyCore=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.duration=e,this.queue_=[]}return e.prototype.audit=function(e,t){var n=this.duration,r=this.queue_;if(n<=0)t(0);else{var o={ignored:0,source:e,task:t,timestamp:Date.now()},i=r.findIndex(function(t){return t.source===e});if(-1!==i){var s=r[i],u=s.ignored,a=s.timestamp;o.ignored+=u+1,o.timestamp=a,r.splice(i,1)}r.push(o),this.wait_()}},e.prototype.wait_=function(){var e=this,t=this.duration,n=this.queue_;if(void 0===this.timeoutId_&&n.length>0){var r=n[0];this.timeoutId_=setTimeout(function(){for(var r=Date.now()-t;n.length>0&&n[0].timestamp<=r;){var o=n.shift();o.task(o.ignored)}e.timeoutId_=void 0,e.wait_()},Math.max(0,r.timestamp+t-Date.now()))}},e}();t.Auditor=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),o=function(){function e(e){this.detectorRecords_=new Map,this.snapshotPlugin_=e.find(r.SnapshotPlugin),this.spy_=e}return e.prototype.detect=function(e){var t=this.detectorRecords_,n=this.snapshotPlugin_,r=this.spy_;if(n){var o=t.get(e),i=this.record_(n.snapshotAll());if(o?o.snapshotRecords.push(i):(o={snapshotRecords:[i]},t.set(e,o)),o.snapshotRecords.length>2&&o.snapshotRecords.shift(),!(o.snapshotRecords.length<2)){var s=o.snapshotRecords,u=s[0],a=s[1];return this.compare_(e,u,a)}}else r.warnOnce(console,"Snapshotting is not enabled.")},e.prototype.compare_=function(e,t,n){var r=[],o=[],i=[],s=[],u=t.rootSubscriptions,a=n.rootSubscriptions;if(u.forEach(function(e,t){a.has(t)||o.push(e)}),a.forEach(function(e,t){var n=u.get(t);if(n){var o=n.flattenings,a=e.flattenings;o.forEach(function(e,t){a.has(t)||s.push(e)}),a.forEach(function(e,t){o.has(t)||i.push(e)})}else r.push(e)}),0!==i.length||0!==s.length||0!==r.length||0!==o.length)return{flatteningSubscriptions:i,flatteningUnsubscriptions:s,subscriptions:r.map(function(e){return e.subscriptionSnapshot}),unsubscriptions:o.map(function(e){return e.subscriptionSnapshot})}},e.prototype.findFlatteningSubscriptions_=function(e,t){var n=t.flattenings,r=t.subscriptionSnapshot;e.subscriptions.forEach(function(e){e.rootSink===r&&e.flattenings.forEach(function(e){var t=e.subscription;t.closed||n.set(t,e)})})},e.prototype.findRootSubscriptions_=function(e,t){var n=this;e.observables.forEach(function(r){r.subscriptions.forEach(function(r){var o=r.complete,i=r.error,s=r.sink,u=r.subscription;if(!(o||i||s||u.closed)){var a={flattenings:new Map,subscriptionSnapshot:r};n.findFlatteningSubscriptions_(e,a),t.set(u,a)}})})},e.prototype.record_=function(e){var t=new Map;return this.findRootSubscriptions_(e,t),{rootSubscriptions:t,snapshot:e}},e}();t.Detector=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hidden=function(e){var t=e.operator;return Boolean(t&&t.hide)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=n(4),i=n(8),s=n(2);t.wrap=function(e,t){return void 0===t&&(t=function(){}),{deck:function(n){t();var r=e.findAll(i.PausePlugin);if(void 0!==n){var s=r[n-1];return s?s.deck:void 0}var u=o.toLogger(o.defaultLogger);u.group(r.length+" Deck(s)"),r.forEach(function(e,t){return u.log(t+1+" pause("+e.name+")")}),u.groupEnd()},debug:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t(),e.debug.apply(e,n)},detect:function(e){void 0===e&&(e=""),t(),r.detect(e)},flush:function(){t(),e.flush()},inferPath:s.inferPath,inferType:s.inferType,let:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t(),e.let.apply(e,n)},log:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t(),e.log.apply(e,n)},maxLogged:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t(),e.maxLogged.apply(e,n)},pause:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(),e.pause.apply(e,n)},query:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t(),e.query.apply(e,n)},show:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t(),e.show.apply(e,n)},stats:function(){t(),e.stats()},undo:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length){var r=o.toLogger(o.defaultLogger);r.group(e.undos.length+" undo(s)"),e.undos.forEach(function(e,t){return r.log(t+1+" "+e.name)}),r.groupEnd()}else t.map(function(t){return e.undos[t-1]}).filter(Boolean).forEach(function(t){return e.unplug(t)})}}}}])});